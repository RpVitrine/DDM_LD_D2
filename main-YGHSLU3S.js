import{$ as D,A as T,Ab as Mt,B as E,C as d,Db as vt,Ea as J,Eb as bt,H as l,I as u,Ia as q,J as O,Jb as It,La as K,Na as Q,O as x,Oa as W,Pa as X,Qa as Z,Ra as tt,Ta as et,U as R,Ua as nt,W as w,Xa as ot,Y as L,Za as it,_ as F,_a as rt,aa as N,ab as at,b as I,ba as z,c as y,ca as B,da as U,ea as j,eb as lt,fb as ct,g as A,gb as st,h as k,hb as pt,i as n,ib as mt,j as P,jb as dt,k as S,kb as ut,lb as gt,m as g,o as _,q as C,qb as _t,r as h,ra as Y,rb as Ct,s as f,sa as $,t as c,u as i,ua as G,v as a,va as V,vb as ht,w as m,wa as H,wb as ft,xb as xt,yb as Pt,zb as Ot}from"./chunk-FXY3SLQI.js";import"./chunk-W6H37XDB.js";import"./chunk-2A22EAEI.js";import"./chunk-EPTDAVOA.js";import"./chunk-C64Z5H7B.js";import"./chunk-JVTPOORY.js";import"./chunk-CLDSZD2A.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-4YRHGV2P.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import"./chunk-JHI3MBHO.js";var yt=[{path:"",redirectTo:"folder/login",pathMatch:"full"},{path:"folder/:id",loadComponent:()=>import("./chunk-TOCHGM5C.js").then(t=>t.FolderPage)},{path:"**",redirectTo:"folder/login",pathMatch:"full"}];var M=t=>[t];function kt(t,o){if(t&1&&(i(0,"ion-list-header"),l(1),a(),i(2,"ion-note",6),l(3),a(),i(4,"ion-note"),l(5),i(6,"ion-note"),l(7),a()()),t&2){let e=d();n(),u(e.userNome),n(2),u(e.userEmail),n(2),O(" ",e.userEmpresa," "),n(2),O(" Cargo: ",e.userRole," ")}}function St(t,o){if(t&1&&(i(0,"ion-menu-toggle",7)(1,"ion-item",8),m(2,"ion-icon",9),i(3,"ion-label"),l(4),a()()()),t&2){let e=o.$implicit;n(),c("routerLink",x(4,M,e.url)),n(),c("ios",e.icon+"-outline")("md",e.icon+"-sharp"),n(2),u(e.title)}}function Tt(t,o){if(t&1&&h(0,St,5,6,"ion-menu-toggle",7,C),t&2){let e=d();f(e.loginPages)}}function Et(t,o){if(t&1&&(i(0,"ion-menu-toggle",7)(1,"ion-item",8),m(2,"ion-icon",9),i(3,"ion-label"),l(4),a()()()),t&2){let e=o.$implicit;n(),c("routerLink",x(4,M,e.url)),n(),c("ios",e.icon+"-outline")("md",e.icon+"-sharp"),n(2),u(e.title)}}function Rt(t,o){if(t&1&&h(0,Et,5,6,"ion-menu-toggle",7,C),t&2){let e=d(2);f(e.programadorPages)}}function wt(t,o){if(t&1&&(i(0,"ion-menu-toggle",7)(1,"ion-item",8),m(2,"ion-icon",9),i(3,"ion-label"),l(4),a()()()),t&2){let e=o.$implicit;n(),c("routerLink",x(4,M,e.url)),n(),c("ios",e.icon+"-outline")("md",e.icon+"-sharp"),n(2),u(e.title)}}function Lt(t,o){if(t&1&&h(0,wt,5,6,"ion-menu-toggle",7,C),t&2){let e=d(2);f(e.gestorPages)}}function Ft(t,o){if(t&1&&(i(0,"ion-menu-toggle",7)(1,"ion-item",8),m(2,"ion-icon",9),i(3,"ion-label"),l(4),a()()()),t&2){let e=o.$implicit;n(),c("routerLink",x(4,M,e.url)),n(),c("ios",e.icon+"-outline")("md",e.icon+"-sharp"),n(2),u(e.title)}}function Dt(t,o){if(t&1&&h(0,Ft,5,6,"ion-menu-toggle",7,C),t&2){let e=d(2);f(e.donoPages)}}function Nt(t,o){if(t&1&&g(0,Rt,2,0)(1,Lt,2,0)(2,Dt,2,0),t&2){let e=d();_(e.userRole=="Programador"?0:e.userRole=="Gestor"?1:e.userRole=="Dono"?2:-1)}}function zt(t,o){if(t&1){let e=T();i(0,"ion-button",10),E("click",function(){A(e);let p=d();return k(p.logOut())}),m(1,"ion-icon",11),l(2," LogOut "),a()}t&2&&(n(),c("ios","log-out-outline")("md","log-out-sharp"))}function Bt(t,o){if(t&1&&(i(0,"ion-footer",4)(1,"ion-toolbar",12)(2,"div",13),m(3,"ion-img",14),i(4,"p",15),l(5),m(6,"br"),l(7," Todos os direitos reservados. "),a()()()()),t&2){let e=d();n(3),c("src",e.logo)("alt",e.logoAlt),n(2),O(" Copyright \xA9 ",e.currentYear," ITask.")}}var At=(()=>{let o=class o{constructor(r,p,s){this.router=r,this.authService=p,this.userService=s,this.userIsAuth=!1,this.userRole="",this.currentUrl="",this.userNome="",this.userEmail="",this.userEmpresa="",this.logo="assets/icon/favicon.png",this.logoAlt="ITask Logo",this.currentYear=new Date().getFullYear(),this.loginPages=[{title:"Login",url:"/folder/login",icon:"key"}],this.programadorPages=[{title:"Tarefas",url:"/folder/programador-tarefas",icon:"albums"}],this.gestorPages=[{title:"Programador",url:"/folder/gestor-programador",icon:"person"},{title:"Tarefas",url:"/folder/gestor-tarefas",icon:"build"}],this.donoPages=[{title:"Gestores",url:"/folder/dono-gestor",icon:"person"},{title:"Programador",url:"/folder/dono-programador",icon:"build"},{title:"Tarefas",url:"/folder/dono-tarefas",icon:"albums"}],It({logInSharp:Pt,logInOutline:xt,albumsSharp:dt,albumsOutline:mt,buildSharp:gt,buildOutline:ut,checkboxSharp:Ct,checkboxOutline:_t,keySharp:ft,keyOutline:ht,addSharp:pt,addOutline:st,personSharp:bt,personOutline:vt,logOutSharp:Mt,logOutOutline:Ot})}ngOnInit(){this.currentUrl=this.router.url,this.validar(),this.router.events.pipe(y(r=>r instanceof L)).subscribe(r=>{this.currentUrl=r.urlAfterRedirects,this.validar()})}logOut(){localStorage.clear(),this.userEmail="",this.userEmpresa="",this.userNome="",this.userRole="",this.userIsAuth=!1,this.router.navigate(["/folder/login"])}validar(){I({userAuth:this.authService.user_auth(),userRole:this.userService.userRole(),userData:this.userService.userData()}).subscribe({next:r=>{if(this.userIsAuth=r.userAuth.auth,!this.userIsAuth){this.logOut();return}this.userRole=r.userRole.role,this.userEmail=r.userData.email,this.userNome=r.userData.nome,this.userEmpresa=r.userData.empresa;let v=({Dono:this.donoPages,Gestor:this.gestorPages,Programador:this.programadorPages}[this.userRole]||[]).map(b=>b.url);v.some(b=>this.currentUrl.includes(b))||(v.length>0?this.router.navigate([v[0]]):(localStorage.clear(),this.router.navigate(["/folder/login"])))},error:r=>{this.logOut()},complete:()=>{}})}};o.\u0275fac=function(p){return new(p||o)(P(D),P(lt),P(ct))},o.\u0275cmp=S({type:o,selectors:[["app-root"]],decls:11,vars:4,consts:[["contentId","main-content"],["contentId","main-content","type","overlay"],["id","inbox-list"],[1,"m-2","mt-3"],[1,"ion-no-border","menu-footer","mt-3"],["id","main-content"],[1,"d-block","mb-2"],["auto-hide","false"],["routerDirection","root","lines","none","detail","false","routerLinkActive","selected",3,"routerLink"],["aria-hidden","true","slot","start",3,"ios","md"],[1,"m-2","mt-3",3,"click"],["name","logOut","slot","start","aria-hidden","true",3,"ios","md"],[1,"transparent-toolbar"],[1,"footer-content"],[1,"app-logo",3,"src","alt"],[1,"copyright-text"]],template:function(p,s){p&1&&(i(0,"ion-app")(1,"ion-split-pane",0)(2,"ion-menu",1)(3,"ion-content")(4,"ion-list",2),g(5,kt,8,4),g(6,Tt,2,0)(7,Nt,3,1),a(),g(8,zt,3,2,"ion-button",3),a(),g(9,Bt,8,3,"ion-footer",4),a(),m(10,"ion-router-outlet",5),a()()),p&2&&(n(5),_(s.userNome&&s.userEmail&&s.userEmpresa&&s.userRole?5:-1),n(),_(s.userIsAuth?7:6),n(2),_(s.userIsAuth?8:-1),n(),_(s.userIsAuth?9:-1))},dependencies:[it,H,N,z,V,ot,tt,J,X,Z,nt,et,Q,at,W,G,$,K,q],styles:["ion-menu[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: var(--ion-item-background, var(--ion-background-color, #fff))}ion-menu.md[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-start: 8px;--padding-end: 8px;--padding-top: 20px;--padding-bottom: 20px}ion-menu.md[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0}ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:30px}ion-menu.md[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:10px}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]{border-bottom:1px solid var(--ion-background-color-step-150, #d7d8da)}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:22px;font-weight:600;min-height:20px}ion-menu.md[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:16px;margin-bottom:18px;color:#757575;min-height:26px}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 10px;--padding-end: 10px;border-radius:4px}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]{--background: rgba(var(--ion-color-primary-rgb), .14)}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#616e7e}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:500}ion-menu.ios[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-bottom: 20px}ion-menu.ios[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0 0}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{line-height:24px;margin-bottom:20px}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 16px;--padding-end: 16px;--min-height: 50px}ion-menu.ios[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:#73849a}ion-menu.ios[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{margin-bottom:8px}ion-menu.ios[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:8px}ion-note[_ngcontent-%COMP%]{display:inline-block;font-size:16px;color:var(--ion-color-medium-shade)}ion-item.selected[_ngcontent-%COMP%]{--color: var(--ion-color-primary)}ion-button.button[_ngcontent-%COMP%]{background:#1e1e1e;color:#fff;cursor:pointer;transition:.2s}ion-button.button[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.menu-footer[_ngcontent-%COMP%]{background:transparent}.menu-footer[_ngcontent-%COMP%]   .transparent-toolbar[_ngcontent-%COMP%]{--background: transparent;--min-height: auto;padding-bottom:16px}.menu-footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%}.menu-footer[_ngcontent-%COMP%]   .app-logo[_ngcontent-%COMP%]{width:100px;height:auto;margin-bottom:8px;opacity:.9}.menu-footer[_ngcontent-%COMP%]   .copyright-text[_ngcontent-%COMP%]{font-size:.75rem;color:var(--ion-color-medium);text-align:center;margin:0;line-height:1.4;font-weight:400}"]});let t=o;return t})();function Ut(){for(let t in console)typeof console[t]=="function"&&(console[t]=()=>{})}Ut();R(At,{providers:[{provide:F,useClass:Y},rt(),U(yt,j(B)),w()]});
